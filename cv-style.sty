%-------------------------------------------------------------------
% Custom CV style file
%-------------------------------------------------------------------
\ProvidesPackage{cv-style}[2025/10/14 Custom style for CV]

%----------------------------------------------------------------------------------------
% PACKAGES
%----------------------------------------------------------------------------------------
\usepackage{tabularx}
\usepackage{enumitem}
\usepackage{supertabular}
\usepackage{multirow}
\usepackage{url}
\usepackage{parskip} 	
\usepackage{color}
\usepackage{graphicx}
\usepackage[usenames,dvipsnames]{xcolor}
% \usepackage[scale=0.9]{geometry}
\usepackage[a4paper, top=1.2cm, bottom=1cm, left=1.1cm, right=1cm]{geometry}
\usepackage{titlesec}				
\usepackage{multicol}
\usepackage{fontawesome5}
\usepackage[style=authoryear,sorting=ynt, maxbibnames=2]{biblatex}
\usepackage[unicode, draft=false]{hyperref}
\usepackage{setspace} % for line spacing adjustments

%----------------------------------------------------------------------------------------
% COLOR AND HYPERREF
%----------------------------------------------------------------------------------------
\definecolor{linkcolour}{HTML}{4e2a84}
\definecolor{titlecolor}{HTML}{333344}
\hypersetup{colorlinks,breaklinks,urlcolor=linkcolour,linkcolor=linkcolour}
\addbibresource{citations.bib}
\setlength\bibitemsep{1em}

%----------------------------------------------------------------------------------------
% FONTS (LOCAL, wildcard approach)
%----------------------------------------------------------------------------------------
\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX}

% --- Body font: Source Sans Pro ---
\setmainfont[
  Path = fonts/source-sans-pro/,
  UprightFont = *-Regular,
  BoldFont = *-Semibold,
  ItalicFont = *-It
]{SourceSansPro}

% --- Heading font: Montserrat ---
\newfontfamily\headingfont[
  Path = fonts/Montserrat/static/,
  UprightFont = *-SemiBold,
  BoldFont = *-Bold,
  ItalicFont = *-SemiBoldItalic,
  Scale = 1.05
]{Montserrat}


\newfontfamily\names[
  Path = fonts/Montserrat/static/,
  UprightFont = *-SemiBold,
  BoldFont = *-Bold,
  ItalicFont = *-SemiBoldItalic,
  Scale = 1.05
]{Montserrat}

% --- Command for name font ---
\newcommand{\namefont}{\names\fontsize{28pt}{32pt}\selectfont}
%----------------------------------------------------------------------------------------
% SPACING & DESIGN ADJUSTMENTS
%----------------------------------------------------------------------------------------

\setlength{\multicolsep}{1pt}  % default is usually 6pt plus some

% Slightly tighter line spacing for body text
\setstretch{1.05}

% Section title style
\titleformat{\section}
  {\Large\scshape\color{linkcolour}\headingfont\raggedright}
  {}{0em}{}[{\color{linkcolour}\titlerule}]
\titlespacing{\section}{0pt}{12pt plus 2pt minus 2pt}{8pt plus 2pt minus 2pt}

% Itemize style for job descriptions
\setlist[itemize]{nosep, after=\strut, leftmargin=1.2em, itemsep=2pt, label=--}

% Paragraph spacing
\setlength{\parskip}{0.5em} % small spacing between paragraphs
\setlength{\parindent}{0pt} % no paragraph indent

%----------------------------------------------------------------------------------------
% CUSTOM ENVIRONMENTS
%----------------------------------------------------------------------------------------
\newenvironment{jobshort}[2]
{
    \begin{tabularx}{\linewidth}{@{}l X r@{}}
    \textbf{#1} & \hfill &  #2 \\[3pt]
    \end{tabularx}
}
{
}

\usepackage{tabularx}  % make sure this is loaded

\newenvironment{joblong}[3]
{
    % org, title, date
    \begin{tabularx}{\linewidth}{@{}l X r@{}}
        \textbf{#1} | \textit{#2} & \hfill & #3 
    \end{tabularx}%
    \vspace{-0.4em} % <--- adjust this value to control spacing
    \begin{itemize}
        \setlength\itemsep{0em}
        \setlength\topsep{0pt}
        \setlength\partopsep{0pt}
        \setlength\parsep{0pt}
}
{
    \end{itemize}
}

\newenvironment{award}[3]
{
    % grantee, award, date
    \begin{tabularx}{\linewidth}{@{}l X r@{}}
        \textbf{#1} | \textit{#2} & \hfill & #3 
    \end{tabularx}%
}



%----------------------------------------------------------------------------------------
% CUSTOM COLUMN TYPE
%----------------------------------------------------------------------------------------
\newcolumntype{C}{>{\centering\arraybackslash}X} 
% Left-aligned X column that wraps (use this for label/value rows)
\newcolumntype{L}{>{\raggedright\arraybackslash}X}
\newcolumntype{R}{>{\raggedleft\arraybackslash}X} 
\newlength{\fullcollw}
\setlength{\fullcollw}{0.47\textwidth}
